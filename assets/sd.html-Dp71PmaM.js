import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as t,o as i,c as l,b as e,d as a,a as o,e as d}from"./app-DsZR3byf.js";const r={},c=e("h2",{id:"webui的安装",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#webui的安装"},[e("span",null,"Webui的安装")])],-1),p=e("p",null,"windows下Anaconda环境安装stable-diffusion-webui",-1),u=e("h3",{id:"相关工具的准备",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#相关工具的准备"},[e("span",null,"相关工具的准备")])],-1),b=e("p",null,"所需工具：git, anaconda, pytorch环境",-1),h={href:"/python/BasicSyntax/env",target:"_blank",rel:"noopener noreferrer"},m=d(`<h3 id="下载源码" tabindex="-1"><a class="header-anchor" href="#下载源码"><span>下载源码</span></a></h3><p>准备好环境后就可以拉代码了：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">git</span> clone https://github.com/AUTOMATIC1111/stable-diffusion-webui
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="依赖库安装" tabindex="-1"><a class="header-anchor" href="#依赖库安装"><span>依赖库安装</span></a></h3><p>可以创建/克隆一个新环境 sdw 出来操作：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>conda create <span class="token parameter variable">--name</span> sdw <span class="token parameter variable">--clone</span> pytorch
conda activate sdw

<span class="token comment"># 进入 stable-diffusion-webui 目录安装项目依赖包</span>
pip3 <span class="token function">install</span> <span class="token parameter variable">-r</span> requirements.txt 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="修改启动脚本" tabindex="-1"><a class="header-anchor" href="#修改启动脚本"><span>修改启动脚本</span></a></h3><p>使用conda就不需要stable-diffusion-webui自己去安装venv虚拟环境了，可以通过修改<code>webui-user.bat</code>实现：</p><ol><li><p>复制一个<code>webui-user.bat</code>，命名为 <code>webui-new.bat</code></p></li><li><p>将<code>VENV_DIR</code>设置为&quot;-&quot;，指示其跳过venv的安装</p></li><li><p>添加启动参数，使其可以在局域网内访问</p></li></ol><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>@echo off

<span class="token builtin class-name">set</span> <span class="token assign-left variable">PYTHON</span><span class="token operator">=</span>
<span class="token builtin class-name">set</span> <span class="token assign-left variable">GIT</span><span class="token operator">=</span>
<span class="token builtin class-name">set</span> <span class="token assign-left variable">VENV_DIR</span><span class="token operator">=</span>-
<span class="token builtin class-name">set</span> <span class="token assign-left variable">COMMANDLINE_ARGS</span><span class="token operator">=</span> <span class="token parameter variable">--listen</span> --enable-insecure-extension-access

call webui.bat
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="首次运行" tabindex="-1"><a class="header-anchor" href="#首次运行"><span>首次运行</span></a></h3><p>在命令行中，确保已通过conda激活了对应虚拟环境时，可直接通过下面的命令启动：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>.<span class="token punctuation">\\</span>webui-new.bat
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>第一次运行时还需要很长时间去下载一些比较大的扩展程序和模型...</p><h2 id="webui的使用" tabindex="-1"><a class="header-anchor" href="#webui的使用"><span>Webui的使用</span></a></h2>`,15);function v(f,g){const n=t("ExternalLinkIcon");return i(),l("div",null,[c,p,u,b,e("p",null,[a("相关内容参照："),e("a",h,[a("Python常用环境的安装"),o(n)])]),m])}const _=s(r,[["render",v],["__file","sd.html.vue"]]),y=JSON.parse('{"path":"/python/Project/sd.html","title":"Stable diffusion","lang":"en-US","frontmatter":{"order":-1,"title":"Stable diffusion","icon":"tab","description":"Webui的安装 windows下Anaconda环境安装stable-diffusion-webui 相关工具的准备 所需工具：git, anaconda, pytorch环境 相关内容参照：Python常用环境的安装 下载源码 准备好环境后就可以拉代码了： 依赖库安装 可以创建/克隆一个新环境 sdw 出来操作： 修改启动脚本 使用conda就不需...","head":[["meta",{"property":"og:url","content":"https://x.app/notebook/python/Project/sd.html"}],["meta",{"property":"og:site_name","content":"Notebook"}],["meta",{"property":"og:title","content":"Stable diffusion"}],["meta",{"property":"og:description","content":"Webui的安装 windows下Anaconda环境安装stable-diffusion-webui 相关工具的准备 所需工具：git, anaconda, pytorch环境 相关内容参照：Python常用环境的安装 下载源码 准备好环境后就可以拉代码了： 依赖库安装 可以创建/克隆一个新环境 sdw 出来操作： 修改启动脚本 使用conda就不需..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-04-03T10:40:35.000Z"}],["meta",{"property":"article:author","content":"Mr.Topple"}],["meta",{"property":"article:modified_time","content":"2024-04-03T10:40:35.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Stable diffusion\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-04-03T10:40:35.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.Topple\\",\\"url\\":\\"https://www.baidu.com\\"}]}"]]},"headers":[{"level":2,"title":"Webui的安装","slug":"webui的安装","link":"#webui的安装","children":[{"level":3,"title":"相关工具的准备","slug":"相关工具的准备","link":"#相关工具的准备","children":[]},{"level":3,"title":"下载源码","slug":"下载源码","link":"#下载源码","children":[]},{"level":3,"title":"依赖库安装","slug":"依赖库安装","link":"#依赖库安装","children":[]},{"level":3,"title":"修改启动脚本","slug":"修改启动脚本","link":"#修改启动脚本","children":[]},{"level":3,"title":"首次运行","slug":"首次运行","link":"#首次运行","children":[]}]},{"level":2,"title":"Webui的使用","slug":"webui的使用","link":"#webui的使用","children":[]}],"git":{"createdTime":1712140835000,"updatedTime":1712140835000,"contributors":[{"name":"Neil","email":"msdrizzle@outlook.com","commits":1}]},"readingTime":{"minutes":1,"words":301},"filePathRelative":"python/Project/sd.md","localizedDate":"April 3, 2024","autoDesc":true}');export{_ as comp,y as data};
